(this["webpackJsonpnft-minter"]=this["webpackJsonpnft-minter"]||[]).push([[0],{175:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n.n(r),c=n(77),s=n.n(c),i=(n(84),n(0)),l=n.n(i),u=n(2),o=n(5),b=(n(86),n(39)),d=n.n(b),j=n(78),p=n.n(j),h=(n(105),n(41)),f=n(1);var O=function(){var e=n(151),t="7a6b4212-86a6-438f-bb2c-0622b3fc12e6",a=new e(t),c=Object(r.useState)(null),s=Object(o.a)(c,2),i=s[0],b=s[1],j=Object(r.useState)(null),O=Object(o.a)(j,2),m=O[0],x=O[1],g=Object(r.useState)(!1),v=Object(o.a)(g,2),S=v[0],y=v[1],N=Object(r.useState)(""),k=Object(o.a)(N,2),w=k[0],C=k[1],I=Object(r.useState)(""),_=Object(o.a)(I,2),T=_[0],J=_[1],F=Object(r.useState)(""),z=Object(o.a)(F,2),M=z[0],D=z[1],Q=Object(r.useState)(""),B=Object(o.a)(Q,2),E=B[0],U=B[1],Z=Object(r.useState)(null),q=Object(o.a)(Z,2),A=q[0],R=(q[1],Object(r.useState)(null)),V=Object(o.a)(R,2),W=(V[0],V[1],{name:"test_stream",profiles:[{name:"720p",bitrate:2e6,fps:30,width:1280,height:720},{name:"480p",bitrate:1e6,fps:30,width:854,height:480},{name:"360p",bitrate:5e5,fps:30,width:640,height:360}],record:!0}),L=function(){var e=Object(u.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://livepeer.com/api/session?limit=20&parentId=".concat(i.id),e.next=3,d.a.get(n,{headers:{Authorization:"Bearer ".concat(t)}});case 3:if(0!==(r=e.sent).data.length){e.next=7;break}return alert("No stream detected"),e.abrupt("return");case 7:x(r.data[0].mp4Url),""===m&&alert("stream is currently processing");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==m){e.next=4;break}return alert("Stream is currently processing"),e.abrupt("return");case 4:if(null!==m){e.next=7;break}return alert("No stream detected"),e.abrupt("return");case 7:return alert("Stream is being minted"),"3c2bf70d-c066-4efb-a0d2-99cdc828f508","https://api.nftport.xyz/v0/mints/easy/urls",n={chain:"rinkeby",name:w,description:T,file_url:m,mint_to_address:M},r={headers:{Authorization:"3c2bf70d-c066-4efb-a0d2-99cdc828f508"}},e.next=14,d.a.post("https://api.nftport.xyz/v0/mints/easy/urls",n,r);case 14:if(200!==(a=e.sent).status){e.next=26;break}return alert("Successfully minted stream"),C(""),J(""),U(a.data.transaction_external_url),c=new h.b({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDk3NEQxZDUwMjQ1NTIzNDVkQzRjYTBjZkFCMTU4NUNEQTcwNWU1MzMiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTY1Mzc2ODQ3NTY2MSwibmFtZSI6InNvY2lhbCJ9.ux6jg_FEa-uHo-sqHxt0d1gX_g8xAeTEfegWLqB7l54"}),e.next=23,c.storeBlob(new h.a([{chain:a.data.chain,contract_address:a.data.contract_address,transaction_hash:a.data.transaction_hash,description:a.data.description,address:a.data.mint_to_address}]));case 23:e.sent,e.next=27;break;case 26:alert("Error minting stream");case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("div",{className:"stream-url-text-box",children:["Stream url: ",""!==m&&null!==m?Object(f.jsx)("b",{children:m}):""===m?Object(f.jsx)("b",{children:"stream currently processing"}):Object(f.jsx)("b",{children:"No streams created"})]}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{id:"setSTR",onClick:function(){a.Stream.create(W).then((function(e){b(e),y(!0)}))},children:"Stream Video"}),i?Object(f.jsxs)("p",{children:["stream key: ",i.streamKey," server: rtmp://rtmp.livepeer.com/live (plug into streaming software)"]}):null,S?Object(f.jsx)("button",{onClick:L,children:"Play Stream"}):null,Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"video-container",children:""!==m&&null!=m?Object(f.jsx)(p.a,{src:m}):Object(f.jsx)("h3",{children:"video will appear here"})}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),""!==E?Object(f.jsx)("a",{href:E,target:"_blank",children:"View NFT"}):null,Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsxs)("form",{children:[Object(f.jsx)("input",{value:w,type:"text",placeholder:"Name of NFT",onChange:function(e){return C(e.target.value)},name:"nameOfNft",required:!0}),Object(f.jsx)("input",{value:T,type:"text",placeholder:"Description of NFT",onChange:function(e){return J(e.target.value)},name:"descriptionOfNft",required:!0}),Object(f.jsx)("input",{value:M,type:"text",placeholder:"Wallet Address",onChange:function(e){return D(e.target.value)},name:"address",required:!0}),Object(f.jsx)("button",{onClick:Y,children:"Mint Video"})]}),null!==A?Object(f.jsx)("p",{children:JSON.stringify(A)}):null,null!==A?Object(f.jsx)("button",{onClick:function(){navigator.clipboard.writeText(JSON.stringify(A))},children:"Copy Data"}):null]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,176)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(O,{})}),document.getElementById("root")),m()},84:function(e,t,n){},86:function(e,t,n){}},[[175,1,2]]]);
//# sourceMappingURL=main.7b15241d.chunk.js.map